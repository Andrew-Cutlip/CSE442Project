(this.webpackJsonpfront_end=this.webpackJsonpfront_end||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),i=n(5),s=n.n(i),r=(n(10),n(2)),a=(n(11),n(0));var l=function(e){return Object(a.jsx)("button",{onClick:e.onclick,children:e.text})},u=n(3);var j=function(e){var t=Object(c.useState)(""),n=Object(r.a)(t,2),o=n[0],i=n[1],s=Object(c.useState)(""),j=Object(r.a)(s,2),b=j[0],d=j[1],O=Object(c.useState)(""),g=Object(r.a)(O,2),h=g[0],x=g[1],f=Object(c.useState)(!1),p=Object(r.a)(f,2),m=p[0],v=p[1];Object(c.useEffect)((function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:b,password:o,email:h})};m&&(console.log("Sending a registration\n"),v(!1),fetch("/register",e).then((function(e){return e.json})).then((function(e){return console.log(e)})).then((function(){return v(!1)})))}),[m,o,b,h]);var k=function(e){e.preventDefault(),console.log("Handling Submit"),v(!0)},S="891542752976-2b518b2l45tl0foe8c17pjm1h76pcf79.apps.googleusercontent.com",y=Object(c.useState)(!0),L=Object(r.a)(y,2),w=L[0],C=L[1],T=Object(c.useState)(!1),P=Object(r.a)(T,2),F=P[0],N=P[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"Register"}),Object(a.jsxs)("form",{id:"Register",name:"Register",onSubmit:k,children:[Object(a.jsxs)("label",{children:["UserName:",Object(a.jsx)("input",{name:"username",type:"text",placeholder:"Username",required:!0,onChange:function(e){d(e.target.value)}})]}),Object(a.jsxs)("label",{children:["Password:",Object(a.jsx)("input",{name:"password",type:"password",placeholder:"Password",required:!0,onChange:function(e){i(e.target.value)}})]}),Object(a.jsxs)("label",{children:["Email",Object(a.jsx)("input",{name:"email",type:"email",placeholder:"example@ex.com",required:!0,onChange:function(e){x(e.target.value)}})]}),Object(a.jsx)("input",{type:"submit",value:"Submit",onClick:k})]}),Object(a.jsx)(l,{text:"Already have an account: Login here",onclick:function(){return e.onclick("login")}}),w?Object(a.jsx)(u.GoogleLogin,{clientId:S,buttonText:"Login",onSuccess:function(e){console.log("Login Success:",e.profileObj),C(!1),N(!0)},onFailure:function(e){console.log("Login Failed:",e)},cookiePolicy:"single_host_origin",className:"g-signin"}):null,F?Object(a.jsx)(u.GoogleLogout,{clientId:S,buttonText:"Logout",onLogoutSuccess:function(e){alert("You have been signed out successfully."),C(!0),N(!1)}}):null]})};var b=function(e){var t="891542752976-2b518b2l45tl0foe8c17pjm1h76pcf79.apps.googleusercontent.com",n=Object(c.useState)(!0),o=Object(r.a)(n,2),i=o[0],s=o[1],j=Object(c.useState)(!1),b=Object(r.a)(j,2),d=b[0],O=b[1],g=Object(c.useState)(""),h=Object(r.a)(g,2),x=h[0],f=h[1],p=Object(c.useState)(""),m=Object(r.a)(p,2),v=m[0],k=m[1],S=Object(c.useState)(!1),y=Object(r.a)(S,2),L=y[0],w=y[1];return Object(c.useEffect)((function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:v,password:x})};L&&fetch("/register",e).then((function(e){return e.json})).then((function(e){return console.log(e)})).then((function(){return w(!1)}))}),[L,x,v]),Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Login"}),Object(a.jsxs)("form",{id:"Login-Form",name:"Login",children:[Object(a.jsx)("input",{type:"text",name:"username",id:"username",placeholder:"Username",onChange:function(e){k(e.target.value)}}),Object(a.jsx)("input",{type:"password",name:"password",id:"logPassword",placeholder:"Password",onChange:function(e){f(e.target.value)}}),Object(a.jsx)("input",{type:"submit",name:"submit",value:"Submit",onSubmit:function(e){e.preventDefault(),w(!0)}})]}),Object(a.jsx)(l,{text:"Create an account",onclick:function(){return e.onclick("register")}}),i?Object(a.jsx)(u.GoogleLogin,{clientId:t,buttonText:"Login",onSuccess:function(e){console.log("Login Success:",e.profileObj),s(!1),O(!0)},onFailure:function(e){console.log("Login Failed:",e)},cookiePolicy:"single_host_origin"}):null,d?Object(a.jsx)(u.GoogleLogout,{clientId:t,buttonText:"Logout",onLogoutSuccess:function(e){alert("You have been signed out successfully."),s(!0),O(!1)}}):null]})},d=function(){return Object(a.jsxs)("div",{id:"home",children:[Object(a.jsx)("h1",{children:"Home"}),Object(a.jsx)("p",{children:"If you love to travel"}),Object(a.jsx)("p",{children:"Why not share your experience to the world?"})]})},O=function(){return Object(a.jsx)("div",{id:"account",children:Object(a.jsx)("h2",{children:"My Account"})})},g=function(e){var t;return t="register"===e.name?Object(a.jsx)(j,{onclick:e.onclick}):"login"===e.name?Object(a.jsx)(b,{onclick:e.onclick}):"account"===e.name?Object(a.jsx)(O,{}):Object(a.jsx)(d,{}),Object(a.jsx)("div",{id:"page",children:t})},h=function(e){var t=e.links.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)(l,{text:e.text,onclick:function(){return e.onclick(e.path)}})},e.key)}));return Object(a.jsxs)("nav",{children:[Object(a.jsx)("h1",{children:"Travelon"}),Object(a.jsx)("ul",{className:"nav-links",children:t})]})},x=function(e){return Object(a.jsx)("header",{className:"header",children:Object(a.jsx)(h,{links:e.links})})};var f=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],o=t[1],i=function(e){o(e)};Object(c.useEffect)((function(){document.title="Travelon "+n}),[n]);var s=[{onclick:i,text:"Home",path:"home",key:0},{onclick:i,text:"Login",path:"login",key:1},{onclick:i,text:"Register",path:"register",key:2},{onclick:i,text:"Account",path:"account",key:2}];return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(x,{links:s}),Object(a.jsx)(g,{name:n,onclick:i})]})})};s.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(f,{})}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.dbecc313.chunk.js.map